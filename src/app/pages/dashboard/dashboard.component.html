<div class="dashboard-container">
  <!-- Total Earned Card - Add this before widget-grid -->
  <mat-card class="total-earned-card">
    <mat-card-content>
      <div class="earned-content">
        <div class="earned-icon">
          <mat-icon>savings</mat-icon>
        </div>
        <div class="earned-details">
          <span class="earned-label">Total Earned</span>
          <span class="earned-value">₪{{ totalEarned | number:'1.0-0' }}</span>
        </div>
      </div>
    </mat-card-content>
  </mat-card>

  <div class="widget-grid">
    <!-- Tennis Lessons Card -->
    <mat-card class="widget-card tennis-card">
      <mat-card-header>
        <mat-card-title>Future Tennis Lessons</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <div class="metric-value tennis-value">
          {{ tennisLessonsFuture }}
          <div class="tennis-subtitle">
            (₪{{ TENNIS_LESSON_COST }} each)
          </div>
        </div>
      </mat-card-content>
    </mat-card>

    <!-- BMI Card -->
    <mat-card class="widget-card bmi-card">
      <mat-card-header>
        <mat-card-title>BMI</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <div class="metric-value">
          {{ bmi || '-' }}
          <div class="bmi-category">
            {{ bmiCategory }}
          </div>
        </div>
      </mat-card-content>
    </mat-card>

    <!-- Weight Card -->
    <mat-card class="widget-card weight-card">
      <mat-card-header>
        <mat-card-title>Weight</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <div class="metric-value">
          {{ latestEntry?.weight || '-' }} kg
        </div>
      </mat-card-content>
    </mat-card>

    <!-- Calories Card -->
    <mat-card class="widget-card calories-card">
      <mat-card-header>
        <mat-card-title>Calories</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <div class="metric-value">
          {{ latestEntry?.activityCalories || '-' }} kcal
        </div>
      </mat-card-content>
    </mat-card>

    <!-- Sleep Card -->
    <mat-card class="widget-card sleep-card">
      <mat-card-header>
        <mat-card-title>Sleep</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <div class="metric-value">
          {{ latestEntry?.sleep || '-' }} hours
        </div>
      </mat-card-content>
    </mat-card>

    <!-- Alcohol Card -->
    <mat-card class="widget-card alcohol-card">
      <mat-card-header>
        <mat-card-title>Alcohol</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <div class="metric-value">
          {{ latestEntry?.alcohol ? 'Yes' : 'No' }}
        </div>
      </mat-card-content>
    </mat-card>
  </div>

  <button mat-fab color="primary"
          class="add-data-fab"
          (click)="openAddDataPopup()">
    <mat-icon>add</mat-icon>
  </button>
</div>
